# 🍌 바나나웨딩 (Banana Wedding) 개발 규칙

> **CRITICAL: SYNC MANDATE**
> 모든 설정 및 가이드 문서(`.agent`, `.codex`, `.cursor`, `.opencode`, `.cursorrules`, `AGENTS.md`, `README.md`, `ARCHITECTURE.md`)는 항상 동일한 기준을 유지하도록 함께 업데이트되어야 합니다. 한 곳의 규칙이 변경되면 언급된 모든 파일에 해당 변경 사항을 명시하고 동기화하십시오.

## 1. 핵심 철학: "성능, 미학, 그리고 발견 가능성"
- **타협 없음 (Zero Compromise)**: 고성능(LCP 2.5s 미만, CLS 0.1 미만)과 프리미엄 디자인("WOW" 팩터)을 동시에 만족해야 함.
- **모바일 퍼스트 (Mobile First)**: 모든 모든 디자인과 기능은 모바일 환경(최소 44px 터치 영역)을 최우선으로 고려함.
- **재사용 우선 (Reuse First)**: 새로운 컴포넌트를 만들기 전에 반드시 기존 UI 컴포넌트 라이브러리에서 재사용 가능성을 검토함.
- **사용자 경험 우선 (User Experience First)**: 로딩, 에러, 빈 상태 등의 트랜지션 상태를 가장 먼저 설계함.
- **SEO 필수 (SEO Mandatory)**: 모든 공개 페이지에는 적절한 메타데이터, OpenGraph 태그, 구조화 데이터(JSON-LD) 및 시맨틱 HTML이 필수적으로 포함되어야 함.

## 2. 기술 표준 (Technical Standards)
- **프레임워크**: Next.js 16+ (App Router) 및 React 19의 최신 기능을 활용하며, Server Components를 기본으로 함.
- **데이터 흐름**: 
  - 데이터 페칭은 Top-Level Container에서 관리, 자식은 Props로 전달 (Container/Presentational 패턴).
  - 서버 컴포넌트에서 Service 계층 직접 호출 (내부 API Route 호출 금지).
  - 데이터 변이는 Server Actions 사용.
- **상태 관리**: Zustand 단일 스토어(`useInvitationStore`) 사용. 셀렉터로 필요한 상태만 구독.
- **스타일링**: **SCSS Modules 필수 사용**. Radix UI의 스타일링은 SCSS Modules를 통해 직접 제어함.
  - Tailwind CSS는 보조적으로만 사용하며, 복잡한 컴포넌트 스타일링은 반드시 SCSS Modules를 사용함.
- **공통 컴포넌트**: 
  - Radix UI Primitives 기반으로 점진적 전환.

## 3. 디자인 시스템 및 스타일 규칙 (Strict)
- **전용 스타일링 값 검색 필수 (Strict Style Rule)**: 모든 색상값, 패딩, 폰트 사이즈, 마진 등 모든 스타일 값은 하드코딩하지 말고 반드시 `src/styles` 내의 변수나 토큰을 검색하여 사용하십시오. 관련 변수가 없다면 새로 정의하거나 사용자에게 확인하십시오.
- **Primary 컬러**: 바나나 옐로우 `#FBC02D` (`v.$primary`).
- **하드코딩된 색상 값 절대 금지**: 모든 색상은 `src/styles/_variables.scss`에 정의된 변수를 사용함.
  ```scss
  @use "@/styles/variables" as v;
  color: v.$primary;
  background: v.$white;
  ```
- **애니메이션**: iOS 느낌의 부드러운 트랜지션 (`cubic-bezier(0.16, 1, 0.3, 1)`) 적용.
- **아이콘**: `lucide-react` 사용. 활성 상태는 노란색 텍스트(배경 없음)로 통일.

## 4. UI 컴포넌트 아키텍처 (Hybrid Component Pattern)
- **폴더 구조 준수**:
  ```
  src/components/ui/ComponentName/
  ├── ComponentName.tsx        # 컴포넌트 로직 (PascalCase)
  ├── ComponentName.module.scss # 스타일
  └── index.ts                 # Re-export (export * from './ComponentName')
  ```
- **필수 사항**: Named Export 사용, `displayName` 설정, SCSS 변수 활용.

## 5. 운영 및 협업 규칙
- **커밋 메시지**: 반드시 **한글**로 작성하며 Conventional Commits 형식을 따름.
  - 예: `feat: 새로운 기능 추가`, `fix: 버그 수정`, `refactor: 코드 리팩토링`
- **타입스크립트**: Strict Mode 준수, `any` 사용 엄격히 금지.
- **빌드 및 린트**: 코드 작성 후 반드시 빌드 에러 및 린트 오류 확인 (Pre-Push 체크).
- **에러 처리**: 도구 실행 실패 시 즉시 자가 수정(Self-Correction).

## 6. 특수 가이드 (Specialized Guides)
- **Vercel Best Practices**: `.codex/skills/vercel-react-best-practices/SKILL.md`를 우선 참조.
- **모달/드로어 접근성**: `aria-hidden` 충돌 방지를 위해 `onOpenAutoFocus` 필수 적용 (공통 컴포넌트에서 이미 처리됨).
- **한국어 입력**: 모바일 환경에서의 한국어 입력 문제를 고려하여 `useKoreanNameInput` 등 최적화된 훅 사용.

---
*이 문서는 바나나웨딩 프로젝트의 최고 수준의 코드 품질과 일관된 사용자 경험을 보장하기 위한 약속입니다.*
