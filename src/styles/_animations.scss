@use "variables" as v;

/* Animations from globals.css */
@keyframes fall {
  0% {
    transform: translateY(-10px) translateX(0);
    opacity: 0;
  }

  10% {
    opacity: 1;
  }

  100% {
    transform: translateY(800px) translateX(20px);
    opacity: 0;
  }
}

@keyframes fall-sway {
  0% {
    transform: translateY(-10px) translateX(0) rotate(0deg);
    opacity: 0;
  }

  10% {
    opacity: 1;
  }

  25% {
    transform: translateY(200px) translateX(30px) rotate(10deg);
  }

  50% {
    transform: translateY(400px) translateX(-30px) rotate(-10deg);
  }

  75% {
    transform: translateY(600px) translateX(30px) rotate(10deg);
  }

  100% {
    transform: translateY(800px) translateX(0) rotate(0deg);
    opacity: 0;
  }
}

@keyframes fall-rotate {
  0% {
    transform: translateY(-10px) rotate(0deg);
    opacity: 0;
  }

  10% {
    opacity: 1;
  }

  100% {
    transform: translateY(800px) rotate(360deg);
    opacity: 0;
  }
}

@keyframes float-mist {
  0% {
    transform: translateY(0) translateX(0);
    opacity: 0;
  }

  20% {
    opacity: 0.8;
  }

  50% {
    transform: translateY(20px) translateX(10px);
    opacity: 0.5;
  }

  80% {
    opacity: 0.8;
  }

  100% {
    transform: translateY(50px) translateX(-10px);
    opacity: 0;
  }
}

@keyframes fall-diagonal {
  0% {
    transform: translateY(-10px) translateX(0) rotate(0deg);
    opacity: 0;
  }

  10% {
    opacity: 1;
  }

  100% {
    transform: translateY(800px) translateX(150px) rotate(90deg);
    opacity: 0;
  }
}

@keyframes pulse-subtle {

  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }

  50% {
    opacity: 0.8;
    transform: scale(0.98);
  }
}

/* Modal Animations */
@keyframes modal-backdrop-in {
  from {
    opacity: 0;
    backdrop-filter: blur(0px);
  }

  to {
    opacity: 1;
    backdrop-filter: blur(24px);
  }
}

@keyframes modal-content-in {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(10px);
  }

  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes modal-backdrop-fade {
  from {
    opacity: 0;
    backdrop-filter: blur(0px);
  }

  to {
    opacity: 1;
    backdrop-filter: blur(12px);
  }
}

@keyframes modal-sheet-up {
  from {
    opacity: 0;
    transform: translateY(40px) scale(0.98);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

/* Motion Tokens */
@keyframes motion-overlay-in {
  from {
    opacity: 0;
    backdrop-filter: blur(0px);
  }

  to {
    opacity: 1;
    backdrop-filter: blur(var(--motion-overlay-blur));
  }
}

@keyframes motion-overlay-out {
  from {
    opacity: 1;
    backdrop-filter: blur(var(--motion-overlay-blur));
  }

  to {
    opacity: 0;
    backdrop-filter: blur(0px);
  }
}

@keyframes motion-sheet-in-bottom {
  from {
    opacity: 0;
    transform: translate3d(0, var(--motion-distance), 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes motion-sheet-out-bottom {
  from {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }

  to {
    opacity: 0;
    transform: translate3d(0, var(--motion-distance), 0);
  }
}

@keyframes motion-sheet-in-right {
  0% {
    transform: translate3d(100%, 0, 0);
  }

  80% {
    transform: translate3d(-1%, 0, 0);
  }

  // Tiny elastic overshoot
  100% {
    transform: translate3d(0, 0, 0);
  }
}

@keyframes motion-sheet-out-right {
  from {
    transform: translate3d(0, 0, 0);
  }

  to {
    transform: translate3d(100%, 0, 0);
  }
}

@keyframes motion-sheet-in-left {
  from {
    transform: translate3d(-100%, 0, 0);
  }

  to {
    transform: translate3d(0, 0, 0);
  }
}

@keyframes motion-sheet-out-left {
  from {
    transform: translate3d(0, 0, 0);
  }

  to {
    transform: translate3d(-100%, 0, 0);
  }
}

@keyframes motion-sheet-in-top {
  from {
    opacity: 0;
    transform: translate3d(0, calc(-1 * var(--motion-distance)), 0);
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes motion-sheet-out-top {
  from {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }

  to {
    opacity: 0;
    transform: translate3d(0, calc(-1 * var(--motion-distance)), 0);
  }
}

@keyframes motion-dialog-in {
  from {
    opacity: 0;
    transform: translate3d(0, var(--motion-distance), 0) scale(var(--motion-scale));
  }

  to {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@keyframes motion-dialog-out {
  from {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }

  to {
    opacity: 0;
    transform: translate3d(0, var(--motion-distance), 0) scale(var(--motion-scale));
  }
}

@keyframes motion-dialog-fixed-in {
  from {
    opacity: 0;
    transform: translate3d(-50%, calc(-50% + var(--motion-distance)), 0) scale(var(--motion-scale));
  }

  to {
    opacity: 1;
    transform: translate3d(-50%, -50%, 0) scale(1);
  }
}

@keyframes motion-dialog-fixed-out {
  from {
    opacity: 1;
    transform: translate3d(-50%, -50%, 0) scale(1);
  }

  to {
    opacity: 0;
    transform: translate3d(-50%, calc(-50% + var(--motion-distance)), 0) scale(var(--motion-scale));
  }
}

.motion-dialog {
  animation: motion-dialog-in var(--motion-duration) var(--motion-ease) both;

  &[data-state='closed'] {
    animation-name: motion-dialog-out;
  }
}

.motion-dialog-fixed {
  animation: motion-dialog-fixed-in var(--motion-duration) var(--motion-ease) both;

  &[data-state='closed'] {
    animation-name: motion-dialog-fixed-out;
  }
}


// Accordion Animations
@keyframes accordion-down {
  from {
    height: 0;
  }

  to {
    height: var(--radix-accordion-content-height);
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height);
  }

  to {
    height: 0;
  }
}

// ============================================
// Popup Animations
// ============================================

@keyframes popup-in {
  from {
    opacity: v.$popup-opacity-start;
    transform: translate3d(0, v.$popup-translate-y, 0) scale(v.$popup-scale-start);
  }

  to {
    opacity: v.$popup-opacity-end;
    transform: translate3d(0, 0, 0) scale(v.$popup-scale-end);
  }
}

@keyframes popup-out {
  from {
    opacity: v.$popup-opacity-end;
    transform: translate3d(0, 0, 0) scale(v.$popup-scale-end);
  }

  to {
    opacity: v.$popup-opacity-start;
    transform: translate3d(0, v.$popup-translate-y, 0) scale(v.$popup-scale-start);
  }
}

// Mixin for popup animation
@mixin popup-animation {
  animation: popup-in v.$popup-duration v.$popup-easing both;
  transform-origin: var(--radix-dropdown-menu-content-transform-origin, var(--radix-popover-content-transform-origin, top));
  will-change: transform, opacity;

  &[data-state='closed'] {
    animation-name: popup-out;
    pointer-events: none;
  }
}