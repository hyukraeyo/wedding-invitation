@use "../../../styles/variables" as v;
@use "../../../styles/mixins" as m;

.tabs {
    width: 100%;
}

.tabsList {
    position: relative;
    width: 100%;
    background-color: v.$zinc-100;
    border-radius: v.$radius-md; // 16px
    padding: 0.25rem; // p-1
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 1fr;
    isolation: isolate;

    &.large {
        height: v.$control-height-md; // Unified with button/input height
    }

    &.small {
        height: v.$control-height-xs; // h-10
    }
}

.indicator {
    position: absolute;
    top: 0.25rem; // top-1
    bottom: 0.25rem; // bottom-1
    left: 0.25rem; // left-1
    background-color: white;
    border-radius: calc(v.$radius-md - 4px); // Inner radius for 16px outer
    // box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.02);
    transition: transform v.$transition-300 cubic-bezier(0.16, 1, 0.3, 1); // ease-ios
    pointer-events: none;
    z-index: 0; // Fix z-index stacking context
}

.trigger {
    @include m.button-base; // Use mixin from m (not v)

    // Override base button styles for Segmented Control context
    width: 100%;
    height: 100%; // Fill the grid cell
    padding: 0; // Center content
    border: none;
    background: transparent;
    border-radius: calc(var(--radius) - 2px); // rounded-md
    color: v.$zinc-500; // Inactive state color
    position: relative;
    z-index: 1;

    &:active {
        transform: scale(v.$scale-press-sm);
        background-color: rgba(0, 0, 0, 0.02);
    }

    // Active State
    &[data-state=active] {
        background-color: transparent; // Indicator handles the background
        box-shadow: none;
        color: v.$primary-dark;
        font-weight: 700;
        border: none;
    }

    // Size variants overrides
    &.large {
        font-size: v.$font-size-md; // v.button-base default
    }

    &.small {
        font-size: v.$font-size-2xs;
    }
}
