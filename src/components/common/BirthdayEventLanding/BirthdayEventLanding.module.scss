@use '../../../styles/variables' as v;
@use '../../../styles/mixins' as m;

.page {
  position: relative;
  height: 100dvh;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: v.$white;
  padding: env(safe-area-inset-top) v.$space-md env(safe-area-inset-bottom);
}

// Background Decorations
.bgDecorTop {
  position: absolute;
  top: -20%;
  right: -20%;
  width: 80vw;
  height: 80vw;
  background: radial-gradient(circle, rgba(v.$primary-100, 0.4) 0%, rgba(v.$white, 0) 70%);
  filter: blur(40px);
  z-index: 0;
  pointer-events: none;
}

.bgDecorBottom {
  position: absolute;
  bottom: -10%;
  left: -10%;
  width: 70vw;
  height: 70vw;
  background: radial-gradient(circle, rgba(v.$blue-100, 0.3) 0%, rgba(v.$white, 0) 70%);
  filter: blur(40px);
  z-index: 0;
  pointer-events: none;
}

.containerFrame {
  position: relative;
  z-index: 10;
  width: 100%;
  max-width: v.$max-mobile;
  height: 100%;
  display: flex;
  flex-direction: column;
}

.centerContainer {
  @extend .containerFrame;
  justify-content: center;
  text-align: center;
}

// Loading & Gate
.loadingText {
  color: v.$grey-500;
  font-size: v.$control-font-size-md;
  font-weight: v.$font-weight-medium;
  font-family: v.$font-pretendard;
}

.gateTitle {
  margin: v.$space-md 0 v.$space-sm;
  color: v.$grey-900;
  font-size: v.$font-size-xl;
  font-weight: v.$font-weight-bold;
  line-height: v.$line-height-tight;
}

.gateDescription {
  color: v.$grey-600;
  font-size: v.$control-font-size-sm;
  line-height: v.$line-height-base;
}

// Intro Section
.introSection {
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: v.$space-lg 0 v.$space-xl;
}

.introContent {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.introHeader {
  display: flex;
  flex-direction: column;
  gap: v.$space-md;
  text-align: left;
}

.pillBadge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 6px 12px;
  border-radius: v.$radius-full;
  background-color: v.$grey-100;
  color: v.$grey-600;
  font-size: v.$control-font-size-xs;
  font-weight: v.$font-weight-semibold;
  width: fit-content;
}

.introTitle {
  margin: 0;
  color: v.$grey-900;
  font-family: v.$font-pretendard;
  font-size: 42px; // Big modern title
  font-weight: v.$font-weight-bold;
  line-height: 1.15;
  letter-spacing: -0.02em;
}

.introDesc {
  margin: v.$space-sm 0 0;
  color: v.$grey-600;
  font-size: v.$control-font-size-md;
  line-height: 1.6;
}

.bottomAction {
  width: 100%;
  padding-bottom: v.$space-md;
}

.startButton {
  width: 100%;
  border-radius: v.$radius-xl;
  background-color: v.$grey-900; // Modern chic
  color: v.$white;
  font-weight: v.$font-weight-bold;
  font-size: v.$control-font-size-md;

  &:hover {
    background-color: v.$grey-800; // Hover
  }
}

// Main Section
.mainSection {
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: v.$space-md 0;
}

.mainHeader {
  display: flex;
  flex-direction: column;
  gap: v.$space-sm;
  animation: slide-up 0.6s v.$ease-ios forwards;
}

.headerTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.badgeIcon {
  width: 14px;
  height: 14px;
  color: v.$primary-dark;
}

.mainTitle {
  margin: v.$space-sm 0;
  font-family: v.$font-pretendard;
  font-size: 28px;
  font-weight: v.$font-weight-bold;
  color: v.$grey-900;
  line-height: 1.25;
}

.mainSubTitle {
  display: block;
  font-size: 18px;
  font-weight: v.$font-weight-medium;
  color: v.$grey-500;
  margin-top: 4px;
}

.benefitRow {
  display: flex;
  gap: v.$space-sm;
  flex-wrap: wrap;
  margin-top: v.$space-sm;
}

.benefitChip {
  padding: 8px 14px;
  background-color: v.$white;
  border: 1px solid v.$grey-200;
  border-radius: v.$radius-lg;
  font-size: v.$control-font-size-sm;
  color: v.$grey-700;
  font-weight: v.$font-weight-medium;
  box-shadow: v.$shadow-sm;
}

.contentSpacer {
  flex: 1;
}

// Question Card & Interaction
.questionCard {
  background-color: v.$white;
  border-radius: v.$radius-2xl;
  padding: v.$space-lg;
  box-shadow: v.$shadow-xl; // Lifted card look
  border: 1px solid rgba(v.$grey-200, 0.6);
  display: flex;
  flex-direction: column;
  gap: v.$space-md;
  position: relative;
  overflow: hidden;
}

.questionLabel {
  margin: 0;
  font-size: 11px;
  font-weight: v.$font-weight-bold;
  color: v.$primary-dark;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.questionTitle {
  margin: 0;
  font-size: 26px;
  font-weight: v.$font-weight-bold;
  color: v.$grey-900;
  font-family: v.$font-pretendard;
}

.questionHint {
  margin: 0;
  font-size: v.$control-font-size-sm;
  color: v.$grey-500;
  height: 20px; // Prevent layout shift
}

.interactionArena {
  position: relative;
  height: 220px; // Sufficient space for running button
  width: 100%;
  background-color: v.$grey-50;
  border-radius: v.$radius-xl;
  margin-top: v.$space-sm;
}

.yesButton {
  position: absolute;
  bottom: v.$space-md;
  left: v.$space-md;
  right: v.$space-md;
  width: calc(100% - #{v.$space-md * 2});
  background-color: v.$primary;
  color: v.$grey-900;
  font-weight: v.$font-weight-bold;
  box-shadow: v.$shadow-md;
  border: none;

  &:hover {
    background-color: v.$primary-dark;
  }
}

.noButtonWrap {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 20;
  transition-property: transform;
  will-change: transform;
  // transition duration is set inline in JS
}

.noButton {
  background-color: v.$white;
  border: 1px solid v.$grey-200;
  color: v.$grey-600;
  font-weight: v.$font-weight-medium;
  box-shadow: v.$shadow-sm;
  min-width: 80px;
}

.successMessage {
  position: absolute;
  inset: 0;
  background-color: rgba(v.$white, 0.95);
  backdrop-filter: blur(8px);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: v.$space-sm;
  z-index: 30;
  font-weight: v.$font-weight-bold;
  color: v.$grey-900;
  border-radius: v.$radius-2xl;
}

.heartIcon {
  width: 32px;
  height: 32px;
  color: v.$red-500;
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
