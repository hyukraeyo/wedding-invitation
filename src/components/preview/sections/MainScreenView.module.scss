@use '../../../styles/variables' as v;
@use '../../../styles/mixins' as m;

.wrapper {
  position: relative;
  width: 100%;
  transition: v.$transition-smooth;

  &.fill {
    @include m.vh(100);
    min-height: 600px; // Maintain minimum usability
  }

  &.standard {
    padding-bottom: 1.5rem;
  }
}

.content {
  position: relative;
  width: 100%;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: v.$transition-smooth;

  &.pt10 {
    padding-top: var(--section-padding-y, 3rem);
  }

  &.centerFill {
    height: 100%;
    justify-content: center;
  }
}

.headerArea {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding-inline: 1.5rem;
  transition: v.$transition-smooth;
  width: 100%;

  &.headerVisible {
    margin-bottom: 2rem;
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  &.headerHidden {
    height: 0;
    margin-bottom: 0;
    opacity: 0;
    transform: translateY(-1rem) scale(0.95);
    pointer-events: none;
    overflow: hidden;
  }

  .mainTitle {
    letter-spacing: 0.4em;
    font-weight: 900;
    margin-bottom: 0.75rem;
    text-transform: uppercase;
    color: v.$grey-900; // gray-900
  }

  // Minimal Style
  .minimalDateRow {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
  }

  .minimalDateBox {
    padding: 0.5rem 0.75rem;
    background: rgba(v.$black, 0.03);
    border-radius: v.$radius-md; // 16px
    font-family: inherit;
    font-weight: 300;
    letter-spacing: 0.05em;
  }

  .weekdayText {
    letter-spacing: 0.25em;
    color: v.$grey-600;
    margin-bottom: 1.25rem;
    font-weight: 500;
  }

  // Korean Style
  .koreanTitle {
    color: v.$grey-700;
    margin-bottom: 0.25rem;
    font-weight: 400;
  }

  .koreanSubtitle {
    color: v.$grey-900;
    margin-bottom: 1.25rem;
    font-weight: 600;
  }

  // Heart Style
  .heartNamesRow {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-family: inherit;
    color: v.$grey-800;
    margin-bottom: 1rem;
  }

  .heartIcon {
    font-size: 1.2em;
  }

  // English Style
  .englishSubtitle {
    color: v.$grey-600;
    font-style: italic;
    letter-spacing: 0.02em;
  }
}

.namesWrapper {
  font-family: inherit;
  color: v.$grey-800; // gray-800
  font-weight: 500;
  letter-spacing: -0.025em;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  row-gap: 0.25rem;
  width: 100%;

  &.gapSmall {
    column-gap: 0.375rem;
  }

  &.gapMedium {
    column-gap: 0.5rem;
  }

  &.gapLarge {
    column-gap: 1rem;
  }

  .nameText {
    flex-shrink: 0;
  }

  .connector {
    font-family: inherit;
    text-transform: uppercase;
    flex-shrink: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;

    .ampersand {
      transform: scale(1.25) translateY(-5%);
    }

    .ringIcon {
      transform: translateY(-10%);
    }
  }

  .suffix {
    color: v.$grey-600; // gray-600
    font-weight: 500;
    flex-shrink: 0;

    &.marginLeftSmall {
      margin-left: 0.125rem;
    }

    &.marginLeftstandard {
      margin-left: -2px;
    }
  }
}

.imageFrame {
  position: relative;
  width: 100%;
  transition: v.$transition-smooth;
  overflow: hidden;

  &.bgGray {
    background-color: v.$grey-50;
  }

  &.imageStandard {
    max-width: v.$canvas-max-width;
    box-shadow: none;
    margin-inline: auto;

    &.fixed {
      aspect-ratio: 4 / 5;
    }

    &.auto {
      height: auto;
      aspect-ratio: auto;
    }

    /* Classic Layout: Add horizontal margins */
    &.classic {
      width: calc(100% - 3rem); // 1.5rem margin on each side
      margin-inline: auto;
    }

    /* Expanded Photo: Full width, no rounded corners */
    &.expanded {
      width: 100%;
      margin-inline: 0;
      border-radius: 0;
    }

    &.mistEffect {
      box-shadow: none;
      background-color: transparent;
      -webkit-mask-image: linear-gradient(to bottom, rgba(v.$black, 1) 50%, transparent 100%);
      mask-image: linear-gradient(to bottom, rgba(v.$black, 1) 50%, transparent 100%);
    }
  }

  &.imageFill {
    position: absolute;
    inset: 0;
    height: 100%;
    width: 100%;
  }

  .mainImage {
    transition: transform 0.7s ease-in-out;
  }

  // Effects & Overlays
  .frameBorder {
    position: absolute;
    inset: 1rem;
    border: none;
    z-index: 10;
    pointer-events: none;
  }

  .gradientOverlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(v.$black, 0.6), transparent, rgba(v.$black, 0.1));
    z-index: 10;
    pointer-events: none;
  }

  .waves {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100px;
    z-index: 50;

    .parallax > use {
      animation: waveMoveAnim 25s cubic-bezier(0.55, 0.5, 0.45, 0.5) infinite;
    }

    .parallax > use:nth-child(1) {
      animation-delay: -2s;
      animation-duration: 7s;
    }

    .parallax > use:nth-child(2) {
      animation-delay: -3s;
      animation-duration: 10s;
    }

    .parallax > use:nth-child(3) {
      animation-delay: -4s;
      animation-duration: 13s;
    }

    .parallax > use:nth-child(4) {
      animation-delay: -5s;
      animation-duration: 20s;
    }
  }
}

@keyframes waveMoveAnim {
  0% {
    transform: translate3d(-90px, 0, 0);
  }

  100% {
    transform: translate3d(85px, 0, 0);
  }
}

.bottomArea {
  z-index: 20;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  transition: v.$transition-smooth;

  &.bottomStandard {
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
    padding-inline: 2.5rem;
  }

  &.bottomFill {
    position: absolute;
    bottom: 3rem;
    left: 0;
    right: 0;
    color: v.$white;
    text-shadow: 0 2px 4px rgba(v.$black, 0.3);
  }

  .bottomTitle {
    letter-spacing: 0.4em;
    text-transform: uppercase;
    margin-bottom: 1.5rem;
    font-weight: 900;
  }

  .bottomNames {
    font-family: inherit;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;

    &.gapSmall {
      column-gap: 0.375rem;
    }

    &.gapLarge {
      column-gap: 1rem;
    }

    &.light {
      font-weight: 300;
    }

    &.normal {
      font-weight: 400;
      color: v.$grey-800;
    }

    .connector {
      font-family: inherit;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      opacity: 0.6;
      display: inline-flex;
      align-items: center;
      justify-content: center;

      .ampersand {
        transform: scale(1.5) translateY(-5%);
      }

      .heartIcon {
        transform: scale(1.5) translateY(-5%);
      }

      .ringIcon {
        transform: translateY(-10%);
      }
    }

    .suffix {
      flex-shrink: 0;

      &.marginLeftSmall {
        margin-left: 0.125rem;
      }

      &.marginLeftStandard {
        margin-left: 0.5rem;
      }

      &.textWhite {
        color: rgba(v.$white, 0.9);
      }

      &.textGray {
        color: v.$grey-600;
      }
    }
  }

  .subtitle {
    margin-bottom: 1.5rem;
    font-family: inherit;
    font-weight: 400;

    &.textWhite {
      color: rgba(v.$white, 0.9);
    }

    &.textGray {
      color: v.$grey-600;
    }
  }

  .datePlace {
    line-height: 2.2;
    white-space: pre-wrap;
    letter-spacing: 0.05em;

    &.textWhite {
      opacity: 0.8;
    }

    &.textGray {
      color: v.$grey-600;
      font-weight: 500;
      font-family: inherit;
    }
  }
}

.fullSize {
  width: 100%;
  height: 100%;
}
